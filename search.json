[{"path":"https://kmezhoud.github.io/biodiversity/articles/get_started.html","id":"r-markdown","dir":"Articles","previous_headings":"","what":"R Markdown","title":"Get Started","text":"R Markdown document. Markdown simple formatting syntax authoring HTML, PDF, MS Word documents. details using R Markdown see http://rmarkdown.rstudio.com. click Knit button document generated includes content well output embedded R code chunks within document. can embed R code chunk like :","code":"summary(cars) ##      speed           dist        ##  Min.   : 4.0   Min.   :  2.00   ##  1st Qu.:12.0   1st Qu.: 26.00   ##  Median :15.0   Median : 36.00   ##  Mean   :15.4   Mean   : 42.98   ##  3rd Qu.:19.0   3rd Qu.: 56.00   ##  Max.   :25.0   Max.   :120.00"},{"path":"https://kmezhoud.github.io/biodiversity/articles/get_started.html","id":"including-plots","dir":"Articles","previous_headings":"","what":"Including Plots","title":"Get Started","text":"can also embed plots, example:  Note echo = FALSE parameter added code chunk prevent printing R code generated plot.","code":""},{"path":"https://kmezhoud.github.io/biodiversity/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Karim Mezhoud. Author, maintainer.","code":""},{"path":"https://kmezhoud.github.io/biodiversity/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Mezhoud K (2024). biodiversity: Biodiversity Map Tracker. R package version 1.0.02,  https://kmezhoud.github.io/biodiversity/, http://kmezhoud.github.io/biodiversity.","code":"@Manual{,   title = {biodiversity: Biodiversity Map Tracker},   author = {Karim Mezhoud},   year = {2024},   note = {R package version 1.0.02,  https://kmezhoud.github.io/biodiversity/},   url = {http://kmezhoud.github.io/biodiversity}, }"},{"path":[]},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"how-to-install-and-run","dir":"","previous_headings":"","what":"How to install and run","title":"Biodiversity Map Tracker","text":"install, please try demo version.","code":""},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"r-environment","dir":"","previous_headings":"","what":"R Environment","title":"Biodiversity Map Tracker","text":"","code":"require(devtools) install_github(\"kmezhoud/biodiversity\") library(biodiversity) biodiversity()"},{"path":[]},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"how-to-build-docker-image","dir":"","previous_headings":"Docker Image","what":"How to build Docker Image","title":"Biodiversity Map Tracker","text":"Navigate Dockerfile DESCRIPTION folder.","code":"docker build --tag biodiversity . docker tag biodiversity kmezhoud/biodiversity:0.1 docker push kmezhoud/biodiversity:0.1"},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"how-to-run","dir":"","previous_headings":"Docker Image","what":"How to run","title":"Biodiversity Map Tracker","text":"","code":"# docker login -u kmezhoud  # run local check navigator at 127.0.0.1:3838  # docker run -d -p  3838:3838 kmezhoud/biodiversity:0.1  # run from dockerHub   docker run -d -p  3838:3838 kmezhoud/biodiversity:0.1    ## killing container issue  ## container_linux.go:392: signaling init process caused \"permission denied\": unknown  ## sudo aa-remove-unknown ## Removing '/snap/core/11993/usr/lib/snapd/snap-confine' ## Removing 'docker-default'"},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"extras-skills","dir":"","previous_headings":"","what":"Extras Skills","title":"Biodiversity Map Tracker","text":"Build/Check/Test package Docker container available. Extend search multiple countries: Poland, Switzerland, Germany, France, Spain. Faster read tables focus search selcted tables Reduce waiting time improve reactivity App. Limit functionalities wanted countries Add Progressbar inform user app User need scroll map selected countries. Rapid Overview position Animals, Plants Others User can focus search Kingdom User can search vernacularName, app returns scientificName vice versa. Indicate position red circle, External link original data, many times species encountered, Individual Count encounter, Image, Link reference. Button iterate search user want change/select countries Info Boxes indicating total existing king. CSS styling logos header, Absolute Panel transparent Button","code":""},{"path":[]},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"locate-the-column-of-the-countries","dir":"","previous_headings":"","what":"Locate the column of the countries","title":"Biodiversity Map Tracker","text":"[1] 22 23","code":"read.table(file = \"biodiversity-data/occurence.csv\", header = TRUE,               sep = \",\", nrows = 1) %>%   names() %>%   stringr::str_locate(fixed(\"country\", ignore_case=TRUE) ) %>%   as_tibble()%>%   tibble::rowid_to_column(\"index\") %>%   drop_na() %>%   pull(index)"},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"extract-only-rows-with-poland-and-switzerland-in-column-22-and-save-it-to-occurence_poland_switezerlandcsv","dir":"","previous_headings":"","what":"Extract only rows with Poland and Switzerland in column 22 and save it to occurence_poland_Switezerland.csv","title":"Biodiversity Map Tracker","text":"","code":"awk -F, '$22 ~ /^Poland|Switzerland/' \"biodiversity-data/occurence_poland_Switezerland.csv\" > occurence_poland.csv"},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"load-only-used-columns-from-multimedia","dir":"","previous_headings":"","what":"Load only used columns from multimedia","title":"Biodiversity Map Tracker","text":"","code":"multimedia <- fread(\"biodiversity-data/multimedia.csv\", header = TRUE,                     select = c(\"CoreId\", \"accessURI\")) %>%   rename( id = CoreId) %>%   mutate(id = as.factor(id))"},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"join-files","dir":"","previous_headings":"","what":"Join Files","title":"Biodiversity Map Tracker","text":"","code":"occurence <- fread(\"occurence_poland_Switzerland.csv\", header = TRUE, sep= ',',                     select = c(\"id\", \"eventDate\", \"eventTime\", \"locality\", \"kingdom\", \"family\",                               \"vernacularName\", \"scientificName\", \"longitudeDecimal\", \"individualCount\", \"latitudeDecimal\", \"countryCode\",\"references\"))                                occurence <- occurence %>%               select_if(function(x) !(all(is.na(x)) | all(x==\"\"))) %>%               mutate(eventDate = as.POSIXct(eventDate,format=\"%Y-%m-%d\")) %>%                 tidyr::extract(col = locality, into = c(\"country\", \"locality\"),                              regex =  \"([A-Z]+[a-z]+\\\\s)-(\\\\s[A-Z]+[a-z]+)\",remove = TRUE)  %>%               mutate(kingdom = if_else(kingdom == \"\", \"Unknown\", kingdom)) %>%               mutate(id = as.factor(id), kingdom = as.factor(kingdom),                      family = as.factor(family), locality = as.factor(locality),                      vernacularName = as.factor(vernacularName),                      scientificName = as.factor(scientificName))    full_data_polanSwitzerland <- occurence %>%                               left_join(multimedia, by=\"id\")   write.csv(full_data_polanSwitzerland, file = \"inst/biodiversity/extdata/full_data_poland_Switzerland.csv\")"},{"path":[]},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"keywords","dir":"","previous_headings":"","what":"Keywords","title":"Biodiversity Map Tracker","text":"Freq: many time species found different place date.time Total: sum individus can add needed informations Popups.","code":""},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"issues","dir":"","previous_headings":"","what":"Issues","title":"Biodiversity Map Tracker","text":"addSearchFeatures highlight multiple circles species. search feature process seems go first matched regex stop search. Kingdoms must checked addSearchFeatures ... %>% {if_else(nrow(biodiversity_data_Animalia)>0, addCiles(...), .)} %>% ... ... %>% purrr::(nrow(biodiversity_data_Animalia)>0, ~addCircles(...), ~.) %>% ... . depends screen resolution computer features. Use simplest map Use instead popup selectInput countries starting [solved] shinyapp.io memory Plot Germany, Spain, France.","code":"Warning: Error in dispatch: argument \"map\" is missing, with no default 114: dispatch 113: invokeMethod 109: addCircles 108: eval 107: eval 106: purrr::when 105: function_list[[i]] 104: freduce 103: _fseq 102: eval 101: eval  99: %>%  95: func [frontPage.R#97]  82: origRenderFunc  81: output$worldMap   1: runApp"},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"to-do","dir":"","previous_headings":"","what":"To Do","title":"Biodiversity Map Tracker","text":"Extend countries Provinces Localities: improve precision search. case lot locality (example France)","code":""},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"deploy-app-using-cloud-and-shiny-server","dir":"","previous_headings":"","what":"Deploy App using Cloud and Shiny Server","title":"Biodiversity Map Tracker","text":"shiny App can deployed Cloud service like DigitalOcean Ubuntu server.","code":"# connect to the remote server ssh remote_username@remote_host #add user with root privilege adduser kirus gpasswd -a kirus sudo su - kirus # install nginx sudo apt-get update sudo apt-get -y install nginx # Set virtual domain name # add source for most recent version of R  for ubuntu 18.04 sudo sh -c 'echo \"deb http://cran.rstudio.com/bin/linux/ubuntu bionic-cran40/\" >> /etc/apt/sources.list' gpg --keyserver keyserver.ubuntu.com --recv-key E298A3A825C0D65DFD57CBB651716619E084DAB9 gpg -a --export E298A3A825C0D65DFD57CBB651716619E084DAB9 | sudo apt-key add - # install R sudo apt-get update sudo apt-get -y install r-base # install useful packages sudo apt-get -y install libcurl4-gnutls-dev libxml2-dev libssl-dev sudo su - -c \"R -e \\\"install.packages('promises', repos='http://cran.rstudio.com/')\\\"\" # install rstudio server sudo apt-get install gdebi-core wget https://download2.rstudio.org/server/bionic/amd64/rstudio-server-1.4.1106-amd64.deb sudo gdebi rstudio-server-1.4.1106-amd64.deb # check browser at 10.11.12.121:8787/  # install shiny server sudo su - -c \"R -e \\\"install.packages('shiny', repos='http://cran.rstudio.com/')\\\"\" sudo su - -c \"R -e \\\"install.packages('rmarkdown', repos='http://cran.rstudio.com/')\\\"\" wget https://download3.rstudio.org/ubuntu-14.04/x86_64/shiny-server-1.5.15.953-amd64.deb sudo gdebi shiny-server-1.5.15.953-amd64.deb # chack browser at http://10.11.12:3838/  # install biodiversity dependencies sudo su - -c \"R -e \\\"install.packages(c('shiny','shinytheme'), repos='http://cran.rstudio.com/')\\\"\" sudo su - -c \"R -e \\\"install.packages(c('leaflet', 'leaflet.extras', 'countrycode'), repos='http://cran.rstudio.com/')\\\"\" sudo su - -c \"R -e \\\"install.packages(c('tidyverse','data.table' ), repos='http://cran.rstudio.com/')\\\"\"  ## install biodiversity from github if public sudo su - -c \"R -e \\\"devtools::install_github('kmezhoud/biodiversity')\\\"\"  ## other option built binary source tar.gz and install it as a root #Build package in /home/kirus sudo su - -c \"R -e \\\"install.packages(“/home/kirus/biodiversity.01.tar.gz”, type=”source”)\\\"\" #The next step is to change the owner of the package folder chown -R shiny:shiny /usr/local/lib/R/site-library/biodiversity/ # or chown -R shiny:shiny /home/kirus/R/x86_64-pc-linux-gnu-library/4.0/biodiversity/ systemctl restart shiny-server # or change shiny-server.conf rus_as “kirus” (where is the package are build) instead “shiny” # This is also right for the zintr package if installed in  /home of the kirus profile.  # set shiny-server.conf nano /etc/shiny-server/shiny-server.conf ## Add the following section  location /biodiversity {  app_dir /usr/local/lib/R/site-library/biodiversity/biodiversity;  log_dir /var/log/shiny-server;  directory_index on;  }  # check browser at http://192.168.10.1:3838/biodiversity"},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"security-system","dir":"","previous_headings":"","what":"Security System","title":"Biodiversity Map Tracker","text":"can protected strong security system: Firewall iptable email Alert Reserve Proxy SSL Domaine certificate Keyring system sensitive code like: Login detail, IP adress, tables column names IP verification geo-restrinction","code":""},{"path":"https://kmezhoud.github.io/biodiversity/index.html","id":"mobile-app","dir":"","previous_headings":"","what":"Mobile App","title":"Biodiversity Map Tracker","text":"App can implemented Smartphone using F7 framework.","code":""},{"path":"https://kmezhoud.github.io/biodiversity/reference/biodiversity.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch biodiversity with default browser — biodiversity","title":"Launch biodiversity with default browser — biodiversity","text":"Launch biodiversity default browser","code":""},{"path":"https://kmezhoud.github.io/biodiversity/reference/biodiversity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch biodiversity with default browser — biodiversity","text":"","code":"biodiversity()"},{"path":"https://kmezhoud.github.io/biodiversity/reference/biodiversity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Launch biodiversity with default browser — biodiversity","text":"shiny webpage","code":""},{"path":"https://kmezhoud.github.io/biodiversity/reference/biodiversity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch biodiversity with default browser — biodiversity","text":"","code":"ShinyApp <-  1 if (FALSE) { biodiversity() }"},{"path":"https://kmezhoud.github.io/biodiversity/news/index.html","id":"biodiversity-1002","dir":"Changelog","previous_headings":"","what":"biodiversity 1.0.02","title":"biodiversity 1.0.02","text":"HOME release: 2023-03-02","code":""},{"path":"https://kmezhoud.github.io/biodiversity/news/index.html","id":"webpage-1-0-02","dir":"Changelog","previous_headings":"","what":"Webpage","title":"biodiversity 1.0.02","text":"include pkgdown","code":""},{"path":[]},{"path":"https://kmezhoud.github.io/biodiversity/news/index.html","id":"bug-fixes-1-0-01","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"biodiversity 1.0.01","text":"Lots ","code":""},{"path":"https://kmezhoud.github.io/biodiversity/news/index.html","id":"biodiversity-100","dir":"Changelog","previous_headings":"","what":"biodiversity 1.0.0","title":"biodiversity 1.0.0","text":"HOME release: 2022-02-14 first release biodiversity.","code":""}]
